<div class="player-container">
    <div class="player-header">
      <h2>{{ meditation.title }}</h2>
      <button mat-icon-button (click)="close.emit()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="media-container">
      <video *ngIf="meditation.type === 'video'" controls>
        <source [src]="meditation.url" [type]="mediaType">
        Tu navegador no soporta la reproducción de video.
      </video>

      <audio *ngIf="meditation.type === 'audio'" controls>
        <source [src]="meditation.url" [type]="mediaType">
        Tu navegador no soporta la reproducción de audio.
      </audio>
      <iframe
        *ngIf="meditation.type === 'youtube'"
        width="100%"
        height="400"
        [src]="getSafeYoutubeUrl(meditation.url)"
        frameborder="0"
        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
    </div>

    <div class="meditation-info">
      <p>{{ meditation.description }}</p>
      <p><strong>Duración:</strong> {{ meditation.duration }}</p>
    </div>
  </div>
